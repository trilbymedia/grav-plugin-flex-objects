<div class="button-group">
    <button type="button" class="button disabled">
        <i class="fa fa-flag-o"></i>
        {% set all_languages = grav.admin.siteLanguages|merge({'': 'Default'}) %}
        {% set language = controller.language %}
        {% set langName = all_languages[language] %}
        {{ langName }}
    </button>
    {%  if admin.languages_enabled|length > 1 %}
        <button type="button" class="button dropdown-toggle" data-toggle="dropdown">
            <i class="fa fa-caret-down"></i>
        </button>
        <ul class="dropdown-menu language-switcher">
            {% for langCode in admin.languages_enabled|merge({'': ''}) %}
                {% set langName = all_languages[langCode] %}
                {% if langCode != language %}
                    <li><a href="{{ admin_route(route.getRoute(1), langCode) }}">{{ langName }}</a></li>
                {% endif %}
            {% endfor %}
        </ul>
    {% endif %}
</div>
